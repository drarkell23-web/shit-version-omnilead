<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Contractor Dashboard â€” Omni-Solutions</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="/contractor-dashboard.css">

<!-- Supabase -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

</head>
<body>

<!-- Side Navigation -->
<div id="sidebar">
    <div id="side-logo">
        <img id="contractorLogo" src="/assets/default-logo.png">
        <div id="contractorNameSide">My Business</div>
    </div>

    <div class="nav-section">Dashboard</div>
    <div class="nav-item" onclick="showPage('overview')">ğŸ“Š Overview</div>

    <div class="nav-section">Profile</div>
    <div class="nav-item" onclick="showPage('business')">ğŸ¢ Business Info</div>
    <div class="nav-item" onclick="showPage('telegram')">ğŸ¤– Telegram</div>

    <div class="nav-section">Content</div>
    <div class="nav-item" onclick="showPage('gallery')">ğŸ–¼ï¸ Gallery</div>
    <div class="nav-item" onclick="showPage('reviews')">â­ Reviews</div>

    <div class="nav-section">Communication</div>
    <div class="nav-item" onclick="showPage('messages')">âœ‰ Message Admin</div>

    <div class="nav-section">Appearance</div>
    <div class="nav-item premium" onclick="showPage('theme')">ğŸ¨ Theme Settings (Premium)</div>

    <div class="nav-section">Account</div>
    <div class="nav-item" onclick="logout()">ğŸšª Logout</div>
</div>

<!-- Main Content -->
<div id="content">

    <!-- OVERVIEW -->
    <div class="page" id="overview">
        <h2>ğŸ“Š Dashboard Overview</h2>
        <div class="cards">
            <div class="card">Leads This Month<br><span id="leadsCount">0</span></div>
            <div class="card">Total Reviews<br><span id="reviewsCount">0</span></div>
            <div class="card">Gallery Images<br><span id="galleryCount">0</span></div>
        </div>

        <h3>Performance Graph</h3>
        <div id="graphPlaceholder">Your performance graph will appear here once you receive data.</div>
    </div>

    <!-- BUSINESS INFO -->
    <div class="page" id="business">
        <h2>ğŸ¢ Business Information</h2>
        <label>Business Name</label>
        <input id="bizName">

        <label>Category</label>
        <select id="bizCategory">
            <option value="">Select categoryâ€¦</option>
            <option>Plumbing</option>
            <option>Electrical</option>
            <option>Building</option>
            <option>Cleaning</option>
            <option>Security</option>
            <option>Landscaping</option>
            <option>Painting</option>
            <option>Handyman</option>
        </select>

        <label>Company Logo</label>
        <input type="file" id="logoUpload">

        <button onclick="saveBusiness()">Save Business Info</button>
    </div>

    <!-- TELEGRAM -->
    <div class="page" id="telegram">
        <h2>ğŸ¤– Telegram Bot Setup</h2>

        <label>Your Bot Token</label>
        <input id="teleToken">

        <label>Your Telegram Chat ID</label>
        <input id="teleChat">

        <button onclick="saveTelegram()">Save Telegram Details</button>
    </div>

    <!-- GALLERY -->
    <div class="page" id="gallery">
        <h2>ğŸ–¼ï¸ Gallery Upload</h2>

        <input type="file" id="galleryUpload" multiple accept="image/*">
        <button onclick="uploadGallery()">Upload Images</button>

        <h3>Your Gallery</h3>
        <div id="galleryContainer"></div>
    </div>

    <!-- REVIEWS -->
    <div class="page" id="reviews">
        <h2>â­ Upload a Review (1 Free)</h2>

        <label>Client Name</label>
        <input id="revName">

        <label>Rating</label>
        <select id="revRating">
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option selected>5</option>
        </select>

        <label>Review Comment</label>
        <textarea id="revComment"></textarea>

        <label>Images</label>
        <input type="file" id="revImages" multiple accept="image/*">

        <button onclick="uploadReview()">Upload Review</button>

        <h3>Your Reviews</h3>
        <div id="reviewsContainer"></div>
    </div>

    <!-- MESSAGES -->
    <div class="page" id="messages">
        <h2>âœ‰ Message Admin</h2>
        <textarea id="msgText" placeholder="Type your messageâ€¦"></textarea>
        <button onclick="sendMessage()">Send Message</button>
    </div>

    <!-- THEME -->
    <div class="page" id="theme">
        <h2>ğŸ¨ Theme Settings (Premium Required)</h2>
        <p>Slide to change dashboard colour</p>
        <input type="color" id="themeColor" onchange="applyTheme()">

        <div class="premium-lock" id="premiumLock">
            ğŸ”’ Upgrade to Premium to unlock full theme control.
        </div>
    </div>

</div>

<script src="/contractor-dashboard.js"></script>
</body>
</html>
